# ğŸ—ï¸ Architecture & Workflow Diagrams

## System Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        USER BROWSER                      â”‚
â”‚              http://localhost:3000                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚           React Frontend Application              â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚  â”‚  â”‚ AddTrade     â”‚  â”‚ TradesList â”‚  â”‚ Analyticsâ”‚  â”‚  â”‚
â”‚  â”‚  â”‚ Component    â”‚  â”‚ Component  â”‚  â”‚Component â”‚  â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚  â”‚         â†“                â†“               â†“         â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚  â”‚
â”‚  â”‚  â”‚        api.js (API Service)            â”‚      â”‚  â”‚
â”‚  â”‚  â”‚    Axios HTTP Client                   â”‚      â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚ HTTP/JSON â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚   Express.js Backend Server        â”‚
         â”‚   http://localhost:5000            â”‚
         â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
         â”‚  â”‚      CORS Middleware         â”‚  â”‚
         â”‚  â”‚      JSON Parser             â”‚  â”‚
         â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
         â”‚                                    â”‚
         â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
         â”‚  â”‚ Trades  â”‚ Summary  â”‚Analytics â”‚ â”‚
         â”‚  â”‚ Routes  â”‚ Routes   â”‚ Routes   â”‚ â”‚
         â”‚  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”´â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”´â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
         â”‚       â”‚         â”‚        â”‚         â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚         â”‚        â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚   MySQL Connection Pool            â”‚
         â”‚   (database.js)                    â”‚
         â”‚   - Host: localhost                â”‚
         â”‚   - Port: 3306                     â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚   MySQL Database       â”‚
         â”‚   stock_tracker        â”‚
         â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
         â”‚  â”‚  trades table    â”‚  â”‚
         â”‚  â”‚  - id            â”‚  â”‚
         â”‚  â”‚  - trade_date    â”‚  â”‚
         â”‚  â”‚  - stock_name    â”‚  â”‚
         â”‚  â”‚  - returns_trade â”‚  â”‚
         â”‚  â”‚  - etc...        â”‚  â”‚
         â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
         â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
         â”‚  â”‚ daily_summary    â”‚  â”‚
         â”‚  â”‚ table            â”‚  â”‚
         â”‚  â”‚  - id            â”‚  â”‚
         â”‚  â”‚  - summary_date  â”‚  â”‚
         â”‚  â”‚  - total_returns â”‚  â”‚
         â”‚  â”‚  - etc...        â”‚  â”‚
         â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Data Flow: Adding a Trade

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ User enters â”‚
â”‚ trade data  â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ AddTrade.js             â”‚
â”‚ - Validates form        â”‚
â”‚ - Collects input        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ state = {               â”‚
â”‚   trade_date: '2024-01',â”‚
â”‚   stock_name: 'TCS',    â”‚
â”‚   ... (other fields)    â”‚
â”‚ }                       â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ api.js                  â”‚
â”‚ tradeAPI.createTrade()  â”‚
â”‚ - Sends POST request    â”‚
â”‚ - JSON payload          â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚ HTTP POST
       â”‚ /api/trades
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Express Server                  â”‚
â”‚ server.js â†’ routes/trades.js    â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Process Trade           â”‚
â”‚ - Validate input        â”‚
â”‚ - Calculate values:     â”‚
â”‚   num_shares = amount/  â”‚
â”‚                 price   â”‚
â”‚   returns =             â”‚
â”‚   sell_value - buy_val  â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ MySQL Query             â”‚
â”‚ INSERT into trades      â”‚
â”‚ WITH calculated values  â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Update daily_summary    â”‚
â”‚ INSERT/UPDATE with      â”‚
â”‚ daily totals            â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚ Success
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Return JSON Response    â”‚
â”‚ {                       â”‚
â”‚   success: true,        â”‚
â”‚   message: "Recorded",  â”‚
â”‚   data: { ... }         â”‚
â”‚ }                       â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ AddTrade.js receives    â”‚
â”‚ success message         â”‚
â”‚ - Clear form            â”‚
â”‚ - Show success alert    â”‚
â”‚ - Refresh trade list    â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
   ğŸ‰ Trade Saved!
```

---

## Data Flow: Viewing & Filtering Trades

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ User clicks  â”‚
â”‚ "View Trades"â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ TradesList.js loads      â”‚
â”‚ - useEffect hook runs    â”‚
â”‚ - Calls fetchTrades()    â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ User applies filters     â”‚
â”‚ - Stock: RELIANCE        â”‚
â”‚ - Date: 2024-01-01       â”‚
â”‚ - Return type: profit    â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ api.js                   â”‚
â”‚ getAllTrades({filters})  â”‚
â”‚ - Includes filter params â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚ GET /api/trades?
       â”‚ stock=RELIANCE&
       â”‚ date_from=2024-01-01&
       â”‚ return_type=profit
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ server/routes/trades.js  â”‚
â”‚ - Parse query params     â”‚
â”‚ - Build SQL WHERE clause â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ MySQL Query              â”‚
â”‚ SELECT * FROM trades     â”‚
â”‚ WHERE stock_name =       â”‚
â”‚   'RELIANCE' AND         â”‚
â”‚   trade_date >= ... AND  â”‚
â”‚   returns_trade > 0      â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Calculate Totals         â”‚
â”‚ - total_invested         â”‚
â”‚ - total_received         â”‚
â”‚ - total_returns          â”‚
â”‚ - trade_count            â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Return JSON              â”‚
â”‚ {                        â”‚
â”‚   data: [{trades}],      â”‚
â”‚   totals: {...},         â”‚
â”‚   filters: {...}         â”‚
â”‚ }                        â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ TradesList.js receives   â”‚
â”‚ - Renders table          â”‚
â”‚ - Shows stats boxes      â”‚
â”‚ - Updates filter options â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
   ğŸ“Š Trades displayed!
```

---

## Data Flow: Analytics Dashboard

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ User clicks      â”‚
â”‚ "Analytics"      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Analytics.js loads         â”‚
â”‚ useEffect runs on mount    â”‚
â”‚ - Calls 4 analytics APIs   â”‚
â”‚   in parallel with Promise â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
    â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚             â”‚          â”‚        â”‚
    â–¼             â–¼          â–¼        â–¼
  GET       GET         GET      GET
  /overview  /stocks    /monthly /daily-chart
    â”‚         â”‚          â”‚        â”‚
    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”´â”€â”€â”€â”€â”¬â”€â”€â”€â”˜
         â”‚           â”‚        â”‚
         â–¼           â–¼        â–¼
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ Overall    â”‚â”‚ Stocks  â”‚â”‚ Monthly  â”‚
  â”‚ Stats      â”‚â”‚ Perf    â”‚â”‚ Returns  â”‚
  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”˜
       â”‚              â”‚            â”‚
       â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
              â”‚            â”‚
              â–¼            â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚ MySQL Multiple Queries:  â”‚
         â”‚ - SUM(returns_trade)     â”‚
         â”‚ - GROUP BY stock_name    â”‚
         â”‚ - GROUP BY month         â”‚
         â”‚ - ORDER BY date          â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚ Aggregate Data           â”‚
         â”‚ - KPI values             â”‚
         â”‚ - Chart datasets         â”‚
         â”‚ - Table data             â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
                    â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚ Return JSON Arrays       â”‚
         â”‚ - stats: {...}           â”‚
         â”‚ - stocks: [{...}]        â”‚
         â”‚ - monthly: [{...}]       â”‚
         â”‚ - daily: [{...}]         â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
                    â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚ Analytics.js renders:    â”‚
         â”‚ - KPI cards              â”‚
         â”‚ - Win/Loss boxes         â”‚
         â”‚ - Line chart (daily)     â”‚
         â”‚ - Bar chart (monthly)    â”‚
         â”‚ - Data table (stocks)    â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
                    â–¼
         ğŸ“ˆ Analytics displayed!
```

---

## Component Hierarchy

```
App.js (Main Component)
â”‚
â”œâ”€â”€ Navbar
â”‚   â”œâ”€â”€ Brand Logo
â”‚   â””â”€â”€ Navigation Links
â”‚       â”œâ”€â”€ Home
â”‚       â”œâ”€â”€ View Trades
â”‚       â””â”€â”€ Analytics
â”‚
â”œâ”€â”€ Main Content (Routes)
â”‚   â”œâ”€â”€ Route: / (Home)
â”‚   â”‚   â””â”€â”€ AddTrade Component
â”‚   â”‚       â”œâ”€â”€ Form Fields
â”‚   â”‚       â”œâ”€â”€ Error Messages
â”‚   â”‚       â””â”€â”€ Success Message
â”‚   â”‚
â”‚   â”œâ”€â”€ Route: /trades
â”‚   â”‚   â””â”€â”€ TradesList Component
â”‚   â”‚       â”œâ”€â”€ Filters Section
â”‚   â”‚       â”‚   â”œâ”€â”€ Stock Selector
â”‚   â”‚       â”‚   â”œâ”€â”€ Date Inputs
â”‚   â”‚       â”‚   â”œâ”€â”€ Return Type Filter
â”‚   â”‚       â”‚   â””â”€â”€ Search Input
â”‚   â”‚       â”œâ”€â”€ Summary Stats
â”‚   â”‚       â”‚   â”œâ”€â”€ Total Trades
â”‚   â”‚       â”‚   â”œâ”€â”€ Total Invested
â”‚   â”‚       â”‚   â”œâ”€â”€ Total Received
â”‚   â”‚       â”‚   â””â”€â”€ Total Returns
â”‚   â”‚       â””â”€â”€ Trades Table
â”‚   â”‚           â””â”€â”€ Trade Rows with Delete
â”‚   â”‚
â”‚   â””â”€â”€ Route: /analytics
â”‚       â””â”€â”€ Analytics Component
â”‚           â”œâ”€â”€ KPI Grid
â”‚           â”‚   â”œâ”€â”€ Total Trades Card
â”‚           â”‚   â”œâ”€â”€ Total Returns Card
â”‚           â”‚   â”œâ”€â”€ Avg Return Card
â”‚           â”‚   â”œâ”€â”€ Best Trade Card
â”‚           â”‚   â”œâ”€â”€ Worst Trade Card
â”‚           â”‚   â””â”€â”€ Win Rate Card
â”‚           â”œâ”€â”€ Outcome Breakdown
â”‚           â”‚   â”œâ”€â”€ Wins Count
â”‚           â”‚   â”œâ”€â”€ Losses Count
â”‚           â”‚   â””â”€â”€ Break Even Count
â”‚           â”œâ”€â”€ Daily Returns Chart
â”‚           â”‚   â””â”€â”€ Line Chart
â”‚           â”œâ”€â”€ Monthly Returns Chart
â”‚           â”‚   â””â”€â”€ Bar Chart
â”‚           â””â”€â”€ Stock Performance Table
â”‚               â””â”€â”€ Stock Rows
â”‚
â””â”€â”€ Footer
    â””â”€â”€ Copyright Info
```

---

## Database Schema Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         trades table            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id (PK)                    INT  â”‚
â”‚ trade_date          DATE        â”‚ â”€â”
â”‚ stock_name     VARCHAR(50)      â”‚  â”‚
â”‚ stock_price_buy  DECIMAL(10,2)  â”‚  â”‚
â”‚ num_shares         INT          â”‚  â”‚
â”‚ total_trade_value_buy DECIMAL   â”‚  â”‚
â”‚ amount_invested    DECIMAL      â”‚  â”‚
â”‚ stock_price_sell DECIMAL(10,2)  â”‚  â”‚
â”‚ total_trade_value_sell DECIMAL  â”‚  â”‚
â”‚ total_amount_received DECIMAL   â”‚  â”‚
â”‚ returns_trade      DECIMAL      â”‚  â”‚
â”‚ created_at      TIMESTAMP       â”‚  â”‚
â”‚ INDEX: idx_date                 â”‚  â”‚
â”‚ INDEX: idx_stock                â”‚  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
                                      â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
                    â”‚ Summary by
                    â”‚ trade_date
                    â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     daily_summary table          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id (PK)              INT         â”‚
â”‚ summary_date (UQ)   DATE         â”‚
â”‚ total_returns_day   DECIMAL      â”‚
â”‚ funds_before... DECIMAL          â”‚
â”‚ funds_after...  DECIMAL          â”‚
â”‚ fund_difference DECIMAL          â”‚
â”‚ brokerage_value DECIMAL          â”‚
â”‚ created_at      TIMESTAMP        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Request/Response Cycle

### API Request Example

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Client (React)                   â”‚
â”‚ api.js                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ HTTP POST Request                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ URL: http://localhost:5000/api/  â”‚
â”‚       trades                     â”‚
â”‚                                  â”‚
â”‚ Headers:                         â”‚
â”‚ - Content-Type: application/json â”‚
â”‚ - Accept: application/json       â”‚
â”‚                                  â”‚
â”‚ Body (JSON):                     â”‚
â”‚ {                                â”‚
â”‚   "trade_date": "2024-01-15",    â”‚
â”‚   "stock_name": "TCS",           â”‚
â”‚   "total_trade_value_buy": 100k, â”‚
â”‚   "stock_price_buy": 3500,       â”‚
â”‚   "stock_price_sell": 3600,      â”‚
â”‚   "funds_before": 500k,          â”‚
â”‚   "funds_after": 510k            â”‚
â”‚ }                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Server (Express)                 â”‚
â”‚ POST /api/trades                 â”‚
â”‚ - Validate request               â”‚
â”‚ - Calculate values               â”‚
â”‚ - Insert to database             â”‚
â”‚ - Update summary                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ HTTP Response (201 Created)      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Headers:                         â”‚
â”‚ - Content-Type: application/json â”‚
â”‚                                  â”‚
â”‚ Body (JSON):                     â”‚
â”‚ {                                â”‚
â”‚   "success": true,               â”‚
â”‚   "message": "Trade recorded...",â”‚
â”‚   "data": {                      â”‚
â”‚     "id": 42,                    â”‚
â”‚     "num_shares": 28,            â”‚
â”‚     "amount_invested": 20k,      â”‚
â”‚     "returns_trade": 2800        â”‚
â”‚   }                              â”‚
â”‚ }                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Client (React)                   â”‚
â”‚ AddTrade.js                      â”‚
â”‚ - Check response.success         â”‚
â”‚ - Show success message           â”‚
â”‚ - Clear form                     â”‚
â”‚ - Refresh trade list             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## File Dependencies

```
Entry Point: index.js
    â†“
    â”œâ”€â†’ App.js
    â”‚   â”œâ”€â†’ react-router-dom
    â”‚   â”œâ”€â†’ AddTrade.js
    â”‚   â”‚   â”œâ”€â†’ api.js
    â”‚   â”‚   â”‚   â””â”€â†’ axios
    â”‚   â”‚   â””â”€â†’ AddTrade.css
    â”‚   â”œâ”€â†’ TradesList.js
    â”‚   â”‚   â”œâ”€â†’ api.js
    â”‚   â”‚   â””â”€â†’ TradesList.css
    â”‚   â””â”€â†’ Analytics.js
    â”‚       â”œâ”€â†’ api.js
    â”‚       â”œâ”€â†’ chart.js
    â”‚       â”œâ”€â†’ react-chartjs-2
    â”‚       â””â”€â†’ Analytics.css
    â”‚
    â””â”€â†’ index.css

Backend Entry: server.js
    â”œâ”€â†’ express
    â”œâ”€â†’ cors
    â”œâ”€â†’ config/database.js
    â”‚   â””â”€â†’ mysql2/promise
    â”œâ”€â†’ routes/trades.js
    â”œâ”€â†’ routes/summary.js
    â”œâ”€â†’ routes/analytics.js
    â””â”€â†’ .env
```

---

## Deployment Overview

```
Development Setup:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  React Dev      â”‚  â”‚  Express Dev    â”‚  â”‚  MySQL      â”‚
â”‚  Port 3000      â”‚  â”‚  Port 5000      â”‚  â”‚  Port 3306  â”‚
â”‚  localhost      â”‚  â”‚  localhost      â”‚  â”‚  localhost  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
         â”‚                    â”‚                    â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚                    â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”
         â”‚   Your Local Machine (macOS)     â”‚
         â”‚   http://localhost:3000          â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Production Setup:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Web Server          â”‚
â”‚  (Vercel/Netlify)    â”‚
â”‚  React Build Files   â”‚
â”‚  http://yourdomain   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â”‚ API Calls
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Node.js Server      â”‚  â”‚  MySQL Database â”‚
â”‚  (Heroku/Railway)    â”‚  â”‚  (Cloud Service)â”‚
â”‚  http://api.yourdomain                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

These diagrams show:
- **System Architecture** - How components connect
- **Data Flows** - How data moves through the app
- **Component Hierarchy** - UI structure
- **Database Schema** - Data structure
- **Request/Response** - API communication
- **Dependencies** - How files relate
- **Deployment** - Development vs Production

All flows are synchronized with the actual codebase structure.
